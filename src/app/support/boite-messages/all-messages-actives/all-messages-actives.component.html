<!-- Page header -->
<div class="page-header page-header-default">
  <div class="page-header-content">
    <div class="page-title">
      <h4><i class="icon-arrow-left52 position-left"></i> <span class="text-semibold">Discussion</span> - Actives</h4>
    </div>

  </div>

</div>
<!-- /page header -->


<div class="content">

  <!-- Invoice archive -->
  <div class="panel panel-white">
    <div class="panel-heading">
      <h6 class="panel-title">Liste des conversations</h6>
      <div class="heading-elements">
        <ul class="icons-list">
          <li><a data-action="collapse"></a></li>
        </ul>
      </div>
    </div>

    <div class="panel-body">
      <ul class="media-list content-group" [ngBusy]="busy">

        <li class="media" *ngFor="let conversation of conversations;let i=index">
          <div class="media-left">
            <img
              src="{{conversation.student.img?baseUrl+conversation.student.img.path:'assets/images/placeholder.jpg'}}"
              class="img-circle"
              alt="">
            <span class="badge bg-danger media-badge"
                  *ngIf="!conversation.viewed&&!conversation.latest_message.id_Admin">1</span>
          </div>
          <div class="media-body">
            <div class="media-heading">
              <span
                class="status-mark {{conversation.status===-1?'border-danger':'border-green'}} position-left"></span>
              <a [routerLink]="'/support/messages/'+conversation.id_Conversation+'/discussion'" class="text-semibold">{{conversation.student?conversation.student.first_name+'
                '+conversation.student.last_name:'Vous'}}</a>
              <span class="media-annotation dotted" *ngIf="conversation.topic">{{conversation.topic}}</span>
              <span class="media-annotation dotted">{{conversation.updated_at|amTimeAgo}}</span>
            </div>
            {{conversation.latest_message.content}}
          </div>
        </li>

      </ul>

    </div>
  </div>


</div>
